import"./hoisted.C-YdDGEW.js";document.addEventListener("DOMContentLoaded",(()=>{let e={fullName:"",email:"",phone:"",area:"",propertyType:"",services:[],startDate:"",referralSource:"",comments:"",consent:!1,terms:!1};const t=document.getElementById("waitingListForm"),r=document.getElementById("submit-button"),a=document.getElementById("confirmationMessage"),n=t.getAttribute("data-endpoint");document.getElementById("property-type").value="",document.getElementById("start-date").value="",document.getElementById("referral-source").value="";t.addEventListener("input",(t=>{const{name:r,value:a,type:n,checked:s}=t.target;"checkbox"===n?"services"===t.target.name?s?e.services.push(a):e.services=e.services.filter((e=>e!==a)):e[r]=s:e[r]=a})),t.addEventListener("submit",(async s=>{if(s.preventDefault(),!(()=>{const{fullName:t,email:r,area:a,propertyType:n,services:s,startDate:o,consent:l,terms:i}=e;return!!(t&&r&&a&&n&&0!==s.length&&o&&l&&i)||(alert("Please complete all required fields."),!1)})())return;r.disabled=!0;const o=new FormData(t);try{if(!n)return void alert("Getform endpoint is not defined. Please set PUBLIC_GETFORM_ENDPOINT in your .env file.");(await fetch(n,{method:"POST",body:o,headers:{Accept:"application/json"}})).ok?(a.classList.remove("hidden"),t.reset(),e={fullName:"",email:"",phone:"",area:"",propertyType:"",services:[],startDate:"",referralSource:"",comments:"",consent:!1,terms:!1},document.getElementById("property-type").value="",document.getElementById("start-date").value="",document.getElementById("referral-source").value=""):alert("There was an error submitting the form. Please try again.")}catch(e){console.error("Error:",e),alert("There was an error submitting the form. Please try again.")}finally{r.disabled=!1}}))}));