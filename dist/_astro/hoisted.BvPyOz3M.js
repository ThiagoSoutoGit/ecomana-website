import"./hoisted.C-YdDGEW.js";document.addEventListener("DOMContentLoaded",()=>{let t={fullName:"",email:"",phone:"",area:"",propertyType:"",services:[],startDate:"",referralSource:"",comments:"",consent:!1,terms:!1};const n=document.getElementById("waitingListForm"),i=document.getElementById("submit-button"),c=document.getElementById("confirmationMessage"),m=n.getAttribute("data-endpoint");document.getElementById("property-type").value="",document.getElementById("start-date").value="",document.getElementById("referral-source").value="";const d=r=>{const{name:a,value:e,type:o,checked:s}=r.target;o==="checkbox"?r.target.name==="services"?s?t.services.push(e):t.services=t.services.filter(l=>l!==e):t[a]=s:t[a]=e},u=()=>{const{fullName:r,email:a,area:e,propertyType:o,services:s,startDate:l,consent:p,terms:y}=t;return!r||!a||!e||!o||s.length===0||!l||!p||!y?(alert("Please complete all required fields."),!1):!0},f=async r=>{if(r.preventDefault(),!u())return;i.disabled=!0;const a=new FormData(n);try{if(!m){alert("Getform endpoint is not defined. Please set PUBLIC_GETFORM_ENDPOINT in your .env file.");return}(await fetch(m,{method:"POST",body:a,headers:{Accept:"application/json"}})).ok?(c.classList.remove("hidden"),n.reset(),t={fullName:"",email:"",phone:"",area:"",propertyType:"",services:[],startDate:"",referralSource:"",comments:"",consent:!1,terms:!1},document.getElementById("property-type").value="",document.getElementById("start-date").value="",document.getElementById("referral-source").value=""):alert("There was an error submitting the form. Please try again.")}catch(e){console.error("Error:",e),alert("There was an error submitting the form. Please try again.")}finally{i.disabled=!1}};n.addEventListener("input",d),n.addEventListener("submit",f)});
